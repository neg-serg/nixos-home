/* Base tokens */
:root {
  --accent: #89cdd2;
  --border_color: #0a3749;
  --color_black: #020202;
  --foreground: #f0f1ff;
  --line_highlight: #13384f;
  --mono: "Iosevka", ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;

  /* Tridactyl tokens */
  --tridactyl-bg: var(--color_black);
  --tridactyl-fg: var(--foreground);

  /* Hint tokens */
  --tridactyl-hint-active-bg: var(--tridactyl-hintspan-bg);
  --tridactyl-hint-active-fg: var(--foreground);
  --tridactyl-hint-active-outline: none;
  --tridactyl-hint-bg: none;
  --tridactyl-hint-outline: none;

  /* Hintspan tokens */
  --tridactyl-hintspan-bg: #001742 !important;
  --tridactyl-hintspan-fg: var(--accent) !important;
  --tridactyl-hintspan-font-family: var(--mono) !important;
  --tridactyl-hintspan-font-size: 0.875rem !important;
  --tridactyl-hintspan-font-weight: 600 !important;
  --tridactyl-hintspan-border-width: 1px !important;

  /* URL tokens */
  --tridactyl-url-bg: var(--color_black);
  --tridactyl-url-fg: var(--url_highlight);
  --url_highlight: #243f55;
}

#command-line-holder {
  background: var(--tridactyl-bg);
  border: 1px solid var(--border_color);
  color: var(--tridactyl-fg);
  order: 1;
  border-radius: 0;
}

#tridactyl-input {
  background: var(--tridactyl-bg);
  color: var(--tridactyl-fg);
  font-family: var(--mono);
  font-size: 0.875rem;
  line-height: 1.25rem;
  font-weight: 600;
  caret-color: var(--foreground);
}

#tridactyl-input::placeholder {
  color: color-mix(in oklab, var(--tridactyl-fg) 60%, transparent);
}
#tridactyl-input::-moz-placeholder {
  color: color-mix(in oklab, var(--tridactyl-fg) 60%, transparent);
}

#completions {
  background: var(--tridactyl-bg);
  color: var(--tridactyl-fg);
  display: inline-block;
  font-family: var(--mono);
  font-size: 0.875rem;
  font-weight: 600;
  --option-height: 1.2em;
  overflow: auto;
  padding: 0;
  width: 100%;
  scrollbar-width: thin;
  scrollbar-color: var(--border_color) transparent;
}

#completions > div {
  max-height: min(45vh, calc(20 * var(--option-height)));
  min-height: calc(2 * var(--option-height));
}

#completions table {
  font-family: var(--mono);
  font-size: 0.875rem;
  font-weight: 600;
  padding: 0;
}

#completions .HistoryCompletionSource {
  max-height: unset;
  min-height: unset;
}

#completions .HistoryCompletionSource table {
  border-spacing: 0;
  font-size: 0.875rem;
  table-layout: fixed;
  width: 100%;
}

#completions .BmarkCompletionSource {
  max-height: unset;
  min-height: unset;
}

#completions .BufferCompletionSource table {
  border-spacing: 0;
  font-size: 0.875rem;
  table-layout: fixed;
  width: unset;
}

#completions table tr .title {
  width: 70%;
}

#completions table tr {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

#completions .sectionHeader {
  background: unset;
  border-bottom: unset;
  padding-left: unset;
}

#completions .focused {
  background: color-mix(in oklab, var(--line_highlight) 80%, transparent);
  color: var(--foreground);
  padding: 0;
  /* No accent stripe to keep it minimal */
}

#completions .focused .url {
  background: var(--line_highlight);
  color: var(--foreground);
  padding: 0;
}

span.TridactylHint {
  background-color: var(--tridactyl-hintspan-bg) !important;
  border-radius: 0 !important;
  border-style: var(--tridactyl-hintspan-border-style, solid) !important;
  border-width: var(--tridactyl-hintspan-border-width, 1px) !important;
  border-color: var(--border_color) !important;
  color: var(--tridactyl-hintspan-fg) !important;
  font-family: var(--tridactyl-hintspan-font-family) !important;
  font-size: var(--tridactyl-hintspan-font-size) !important;
  font-style: var(--tridactyl-hintspan-font-style) !important;
  font-weight: var(--tridactyl-hintspan-font-weight, 600) !important;
  min-width: 0.75em !important;
  padding: 2px !important;
  position: absolute !important;
  z-index: 2147483646 !important;
}

/* Distinct style for active hint */
span.TridactylHint.ActiveHint {
  background-color: color-mix(in oklab, var(--line_highlight) 80%, transparent);
  outline: 1px solid var(--border_color);
}
