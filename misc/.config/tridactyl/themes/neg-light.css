/* Base tokens */
:root {
  --accent: #2e86ac;
  --border_color: #c8d3de;
  --color_black: #f7f9fc; /* base light bg */
  --foreground: #0b0f14;  /* base dark fg */
  --line_highlight: #e7eef6;
  --mono: "Iosevka", ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;

  /* Tridactyl tokens */
  --tridactyl-bg: var(--color_black);
  --tridactyl-fg: var(--foreground);

  /* Hint tokens */
  --tridactyl-hint-active-bg: var(--tridactyl-hintspan-bg);
  --tridactyl-hint-active-fg: var(--foreground);
  --tridactyl-hint-active-outline: none;
  --tridactyl-hint-bg: none;
  --tridactyl-hint-outline: none;

  /* Hintspan tokens */
  --tridactyl-hintspan-bg: #eef6ff !important;
  --tridactyl-hintspan-fg: var(--accent) !important;
  --tridactyl-hintspan-font-family: var(--mono) !important;
  --tridactyl-hintspan-font-size: 0.9375rem !important; /* 15px */
  --tridactyl-hintspan-font-weight: 600 !important;
  --tridactyl-hintspan-border-width: 1px !important;

  /* URL tokens */
  --tridactyl-url-bg: var(--color_black);
  --tridactyl-url-fg: var(--url_highlight);
  --url_highlight: #2d5aa1;
}

#command-line-holder {
  background: var(--tridactyl-bg);
  border: 1px solid var(--border_color);
  color: var(--tridactyl-fg);
  order: 1;
  border-radius: 6px;
}

#tridactyl-input {
  background: var(--tridactyl-bg);
  color: var(--tridactyl-fg);
  font-family: var(--mono);
  font-size: 0.9375rem; /* 15px */
  line-height: 1.35rem;
  font-weight: 600;
  caret-color: var(--accent);
}

#tridactyl-input::placeholder {
  color: color-mix(in oklab, var(--tridactyl-fg) 55%, transparent);
}
#tridactyl-input::-moz-placeholder {
  color: color-mix(in oklab, var(--tridactyl-fg) 55%, transparent);
}

#completions {
  background: var(--tridactyl-bg);
  color: var(--tridactyl-fg);
  display: inline-block;
  font-family: var(--mono);
  font-size: 0.9375rem;
  font-weight: 600;
  --option-height: 1.45rem;
  /* Keep parent non-scrollable; scroll only inner container */
  overflow: hidden;
  padding: 0;
  width: 100%;
  scrollbar-width: thin;
  scrollbar-color: var(--accent) transparent;
}

#completions > div {
  overflow-y: auto;
  /* Hard cap in lines: at most 8 rows visible */
  max-height: calc(8 * var(--option-height));
  min-height: calc(2 * var(--option-height));
}

/* Make buffers (tabs/windows) list longer */
#completions .BufferCompletionSource {
  /* Defer to container cap; do not override per-source */
  max-height: unset;
}

#completions table {
  font-family: var(--mono);
  font-size: 0.9375rem;
  font-weight: 600;
  padding: 0;
}

/* Keep per-source behavior consistent with dark themes */
#completions .HistoryCompletionSource {
  max-height: unset;
  min-height: unset;
}

#completions .HistoryCompletionSource table {
  border-spacing: 0;
  font-size: 0.9375rem;
  table-layout: fixed;
  width: 100%;
}

#completions .BmarkCompletionSource {
  max-height: unset;
  min-height: unset;
}

#completions .BufferCompletionSource table {
  border-spacing: 0;
  font-size: 0.9375rem;
  table-layout: fixed;
  width: unset;
}

#completions table tr .title {
  width: 70%;
}

#completions table tr {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

#completions .sectionHeader {
  background: unset;
  border-bottom: unset;
  padding-left: unset;
}

#completions .focused {
  background: color-mix(in oklab, var(--line_highlight) 85%, transparent);
  color: var(--foreground);
  padding: 0;
  box-shadow: inset 3px 0 0 0 var(--accent);
}

#completions .focused .url {
  background: var(--line_highlight);
  color: var(--accent);
  padding: 0;
}

span.TridactylHint {
  background-color: var(--tridactyl-hintspan-bg) !important;
  border-radius: 4px !important;
  border-style: var(--tridactyl-hintspan-border-style, solid) !important;
  border-width: var(--tridactyl-hintspan-border-width, 1px) !important;
  border-color: color-mix(in oklab, var(--tridactyl-hintspan-fg) 45%, black) !important;
  color: var(--tridactyl-hintspan-fg) !important;
  font-family: var(--tridactyl-hintspan-font-family) !important;
  font-size: var(--tridactyl-hintspan-font-size) !important;
  font-style: var(--tridactyl-hintspan-font-style) !important;
  font-weight: var(--tridactyl-hintspan-font-weight, 600) !important;
  min-width: 0.75em !important;
  padding: 2px !important;
  position: absolute !important;
  z-index: 2147483646 !important;
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.35);
}

span.TridactylHint.ActiveHint {
  background-color: color-mix(in oklab, var(--accent) 18%, var(--tridactyl-hintspan-bg));
  outline: 2px solid var(--accent);
}
