$M1 = Alt
$M4 = SUPER
$C = Control
$S = Shift

$menu = walker
$pypr = ~/bin/pypr-client
$browser = floorp

# Apps: scratchpads and run-or-raise
source = ~/.config/hypr/bindings/apps.conf

bind = $M4+$S,k, exec, uwsm stop,
bind = $M4, apostrophe, exec, pypr exit && hyprctl reload

bind = $M1,Tab, workspace, previous
bind = $M4,slash, workspace, previous
bind = $M4+$C,backslash, resizeactive, exact 640 480 # Make target window small enough
bind = $M4,Tab, cyclenext # Go to the next window
bind = $M4,Tab, bringactivetotop, # And bring it on top

# Change keyboard layout
bind = $M4,S, exec, sh -c 'hyprctl -j devices | jq -r ".keyboards[].name" | while read k; do hyprctl switchxkblayout "$k" next; done'

# Submaps split into separate files for clarity
source = ~/.config/hypr/bindings/resize.conf
source = ~/.config/hypr/bindings/special.conf
source = ~/.config/hypr/bindings/wallpaper.conf
source = ~/.config/hypr/bindings/tiling.conf
source = ~/.config/hypr/bindings/tiling-helpers.conf
source = ~/.config/hypr/bindings/media.conf
source = ~/.config/hypr/bindings/notify.conf
source = ~/.config/hypr/bindings/misc.conf

#-----------------------
# Clipboard history (cliphist + rofi)
bind = $M4,c, exec, pkill rofi || cliphist list | rofi -dmenu -matching fuzzy -i -p "Clipboard" -theme clip | cliphist decode | wl-copy
 

bind = $M4,Escape, killactive
bind = $M4,r, fullscreen
## hy3 handles focus movement; remove duplicate core movefocus binds

bind = $M4,h, hy3:movefocus, l
bind = $M4,j, hy3:movefocus, d
bind = $M4,k, hy3:movefocus, u
bind = $M4,l, hy3:movefocus, r
#-----------------------
# Tiling submap moved to bindings/tiling.conf

# Tiling helpers moved to bindings/tiling-helpers.conf

bindl = $M4,Return, exec, kitty || foot || alacritty
bindl = $M4+$S,l, exec, pkill rofi || ~/bin/rofi-lutris
bindl = $M4,p, exec, pkill rofi || rofi-pass

#-- Mouse bindings
bind = $M4,mouse_down, workspace, e+1
bind = $M4,mouse_up, workspace, e-1
bindm = $M4,mouse:272, movewindow
bindm = $M4,mouse:273, resizewindow
